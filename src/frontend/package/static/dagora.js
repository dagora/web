/* Dagora v0.1 - 5/25/2013
   http://
   Copyright (c) 2013 Javier Jimenez Villar - Licensed GPLv3 */
(function(){var t={}.hasOwnProperty,e=function(e,o){for(var r in o){if(t.call(o,r))e[r]=o[r]}function n(){this.constructor=e}n.prototype=o.prototype;e.prototype=new n;e.__super__=o.prototype;return e};__Model.Query=function(t){e(o,t);function o(){return o.__super__.constructor.apply(this,arguments)}o.fields("id","title","link","unit","unit","data");return o}(Monocle.Model)}).call(this);(function(){var t={}.hasOwnProperty,e=function(e,o){for(var r in o){if(t.call(o,r))e[r]=o[r]}function n(){this.constructor=e}n.prototype=o.prototype;e.prototype=new n;e.__super__=o.prototype;return e};__Model.Result=function(t){e(o,t);function o(){return o.__super__.constructor.apply(this,arguments)}o.fields("id","title","link","unit");return o}(Monocle.Model)}).call(this);(function(){var t={}.hasOwnProperty,e=function(e,o){for(var r in o){if(t.call(o,r))e[r]=o[r]}function n(){this.constructor=e}n.prototype=o.prototype;e.prototype=new n;e.__super__=o.prototype;return e};__View.GraphBar=function(t){var o;e(r,t);o=void 0;r.prototype.container="section > article #bar";r.prototype.template='<div data-graph="bar">\n  <h4 class="text bold color theme uppercase">{{title}} <span class="text book color default italic">({{source}})</span></h4>\n  <div class="graph"></div>\n</div>';function r(){var t,e;r.__super__.constructor.apply(this,arguments);this.html(this.model);e={animation:{duration:1e3,easing:"linear"},areaOpacity:.1,backgroundColor:"#ecf0f1",chartArea:{width:"100%"},colors:["#bdc3c7"],fontName:"Oswald",fontSize:12,legend:{position:"none"},pointSize:16,hAxis:{baselineColor:"#f00",textStyle:{color:"#aaa"}},vAxis:{gridlines:{color:"#ecf0f1",count:0}},width:"100%",height:292};t=google.visualization.arrayToDataTable(this.model.data);this.instance=new google.visualization.ColumnChart(this.el.find(".graph").get(0));this.instance.draw(t,e)}return r}(Monocle.View)}).call(this);(function(){var t={}.hasOwnProperty,e=function(e,o){for(var r in o){if(t.call(o,r))e[r]=o[r]}function n(){this.constructor=e}n.prototype=o.prototype;e.prototype=new n;e.__super__=o.prototype;return e};__View.GraphPie=function(t){var o;e(r,t);o=void 0;r.prototype.container="section > article #pie";r.prototype.template='<li data-graph="pie">\n  <h4 class="text bold color theme uppercase">{{title}}</h4>\n  <div class="graph"></div>\n</li>';function r(){var t,e;r.__super__.constructor.apply(this,arguments);this.append(this.model);e={colors:["3498db","#ddd"],legend:{position:"none"},fontName:"Oswald",chartArea:{width:"75%",height:"75%",top:0},tooltip:{trigger:"focus",showColorCode:true}};t=google.visualization.arrayToDataTable([["Value","Value"],[this.model.name,this.model.percent],["Available",100-this.model.percent]]);this.instance=new google.visualization.PieChart(this.el.find(".graph").get(0));this.instance.draw(t,e)}return r}(Monocle.View)}).call(this);(function(){var t,e={}.hasOwnProperty,o=function(t,o){for(var r in o){if(e.call(o,r))t[r]=o[r]}function n(){this.constructor=t}n.prototype=o.prototype;t.prototype=new n;t.__super__=o.prototype;return t};t=function(t){var e;o(r,t);e="http://api.dagora.es/";r.prototype.elements={input:"txtSearch",".box":"boxes","#pie":"pies"};r.prototype.events={"click button":"search","keypress input":"onKeyPress"};function r(){r.__super__.constructor.apply(this,arguments);TukTuk.Modal.loading();this.boxes.removeClass("hidden")}r.prototype.onKeyPress=function(t){this.boxes.removeClass("active");this.pies.html("");if(t.keyCode===13){return this.search()}};r.prototype.search=function(){var t,e;this.boxes.addClass("active");t=[["Year","Sales"],["Apr/20",1e3],["xxx/XX",1234],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170],["xxx/XX",1170]];e=__Model.Query.create({title:"TITULO DE CONSULTA",source:"Publico.es",unit:"people",data:t});new __View.GraphBar({model:e});new __View.GraphPie({model:{title:"Percent.1",percent:25}});new __View.GraphPie({model:{title:"Percent.2",percent:75}});new __View.GraphPie({model:{title:"Percent.3",percent:34}});return new __View.GraphPie({model:{title:"Percent.4",percent:17}})};return r}(Monocle.Controller);$(function(){return __Controller.Query=new t("section")})}).call(this);