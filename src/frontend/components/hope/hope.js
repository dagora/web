/* hope v1.0.0 - 2013/4/18
   https://github.com/soyjavi/hope
   Copyright (c) 2013 Javi Jim√©nez Villar - Licensed MIT */
(function(){(function(n){var t,e,r,i,u;e=function(){this._callbacks=[];return this};i=function(n){var t,r,i,u,o,s,l;t=n.length;r=0;s=new e;i=[];l=[];o=function(n){return function(e,u){r+=1;i[n]=e;l[n]=u;if(r===t){return s.done(i,l)}}};u=0;while(u<t){n[u]().then(o(u));u++}return s};r=function(n,t,i,u){var o;o=new e;if(n.length===0||u!=null&&t!=null){o.done(t,i)}else{n[0](t,i).then(function(t,e){n.splice(0,1);return r(n,t,e,u).then(function(n,t){return o.done(n,t)})})}return o};u=function(n,t,e){return r(n,t,e,true)};e.prototype.then=function(n,t){var e;e=function(){return n.apply(t,arguments)};if(this._isdone){return e(this.error,this.result)}else{return this._callbacks.push(e)}};e.prototype.done=function(n,t){var e,r;this._isdone=true;this.error=n;this.result=t;e=0;r=this._callbacks.length;while(e<r){this._callbacks[e](n,t);e++}return this._callbacks=[]};t={Promise:e,join:i,chain:r,shield:u};if(typeof define==="function"&&define.amd){return define(function(){return t})}else{return n.Hope=t}})(this)}).call(this);